<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
        <title>Rule of Thumb</title>
        <meta name="description" content="This is a test">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <link rel="stylesheet" href="css/app.css">
        <script src="https://kit.fontawesome.com/3482a232c5.js"></script>
	</head>

	<body>
		<div id="app">
			<div class="main" >
				<div class="top-shadow"></div>
				<header>
					<div class="left">
						<h1>Rule of Thumb.</h1>
					</div>
					<div class="right">
						<nav>
							<ul>
								<li><a href="#">Past Trials</a></li>
								<li><a href="#">How it works</a></li>
								<li><a href="#">Log in / Sign Up</a></li>
								<li><a href="#"><i class="fas fa-search"></i></a></li>
							</ul>
						</nav>
					</div>
				</header>
				<div class="container">
					<div class="blur"></div>
					<div v-if="newestRuling" class="newest-voting">
						<div class="wrapper">
							<p class="introduction">What's your opinion on</p>
							<h2 class="title">{{newestRuling.name}}?</h2>
							<p class="description">{{newestRuling.description}}</p>
							<div class="information">[W] <a href="#">More information</a></div>
							<h3 class="vote-box-title">What's Your Veredict?</h3>
						</div>
						
						<div class="vote-box">
							<div class="like" @click="upvote(newestRuling)">
								<i v-if="!newestRuling.voted" class="fas fa-thumbs-up"></i>
								<span v-else>{{ calcPercentage(newestRuling.upvotes, newestRuling.downvotes) }}%</span>
							</div>
							<div class="dislike" @click="downvote(newestRuling)">
								<i v-if="!newestRuling.voted" class="fas fa-thumbs-down"></i>
								<span v-else>{{ calcPercentage(newestRuling.downvotes, newestRuling.upvotes) }}%</span>
							</div>
						</div>
					</div>
					<div class="clearfix">
					</div>
				</div>

				<div class="closing">
					<div class="progress">
						CLOSING IN
					</div>
					<div class="remaining">
						22 DAYS
					</div>
				</div>
			</div>

			<div class="content">
				<div class="panel">
					<p class="title">Speak out. Be heard. <br> <span class="strong">Be counted<span></p>
					<p class="message">Rule of Thumb is a crowd sourced court of public opinion where anyone and everyone can speak out and speak freely. It's easy: You share your opinion, we analyze and put the data in a public report.</p>
					<div class="close"><i class="fas fa-times"></i></div>
				</div>

				<h2>Previous Rulings</h2>

				<div class="voting-container">

					<div v-for="ruling in previousRuling" class="voting-box" :style="{ backgroundImage: 'url(' + ruling.picture + ')' }">
						<div class="voting-information">
							<div class="voting-status up"><i class="fas fa-thumbs-up"></i></div>
							<div class="name">
								{{ ruling.name }}
							</div>
							<div class="date">
								<b>{{ ruling.date }}</b> in <b>{{ ruling.area }}</b>
							</div>
							<div v-if="!ruling.voted" class="description">
								{{ ruling.description }}
							</div>
							<div v-else class="description">
								Thank you for voting!
							</div>
							<div v-if="!ruling.voted" class="vote-options">
								<div class="upvote" @click="upvote(ruling)"><i class="fas fa-thumbs-up"></i></div>
								<div class="downvote" @click="downvote(ruling)"><i class="fas fa-thumbs-down"></i></div>
								<div class="vote-now">Vote now</div>
							</div>

							<div v-else class="vote-options">
								<div class="vote-now" @click="voteAgain(ruling)">Vote again</div>
							</div>
						</div>

						<div class="votes-progress">
							<div class="progress-bar" :style=" { width: calcPercentage(ruling.upvotes, ruling.downvotes) + '%' }"></div>
							<div class="remaining"></div>
							<span class="upvotes-percentage"><i class="fas fa-thumbs-up"></i> {{ calcPercentage(ruling.upvotes, ruling.downvotes) }}%</span>
							<span class="downvotes-percentage">{{ calcPercentage(ruling.downvotes, ruling.upvotes) }}%<i class="fas fa-thumbs-down"></i></span>
						</div>
						<div class="voting-box-shadow"></div>
					</div>

				</div>

				<div class="submit-name-container">
					<div class="text">
						Is there anyone else you would want us to add?
					</div>
					<div class="submit">
						<button>Submit a Name</button>
					</div>
				</div>

				<div class="line-divider"></div>

				<footer>
					<div class="left">
						<a href="#">Terms and conditions</a>
						<a href="#">Privacy Policy</a>
						<a href="#">Contact Us</a>
					</div>

					<div class="right">
						<a href="#">Follow Us</a>
						<a href="#"><i class="fab fa-facebook-square"></i></a>
						<a href="#"><i class="fab fa-twitter"></i></a>
					</div>
				</footer>
			</div>
		</div>
	</body>

	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script src="js/app.js"></script>
</html>